{% extends 'main-user.html' %}

{% block title %}Bem-vindo{% endblock %}

{% block body %}
<div class="d-flex justify-content-start flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Dashboard</h1>
  </div>

  <div class="d-xl-flex d-md-flex d-xxl-flex justify-content-between">
      <div class="card status-bot" style="width: 18rem;">
          <div class="card-body">
              <h5 class="card-title text-light">STATUS DO BOT</h5>
              <div class="card-title" style="display: flex; flex-direction: column; justify-content: end; max-height: 75%; min-height: 60%;">
                  <div class="d-flex justify-content-between">
                      <div class="form-check form-switch d-flex align-items-center">
                          <input class="card-title form-check-input" type="checkbox" id="flexSwitchCheckChecked" style="width: 3rem; height: 1.6rem" {{ 'checked' if isOn else '' }}>
                      </div>
                      <div class="d-flex align-items-center">
                          <span class="text-light" style="align-self: center;">V 1.0.0</span>
                      </div>
                  </div>
              </div>
          </div>
      </div>&nbsp;&nbsp;
      <div class="card status-bot" style="width: 18rem;">
          <div class="card-body">
              <h5 class="card-title text-light">SETUPS</h5>
              <div class="card-title" style="display: flex; flex-direction: column; justify-content: end; height: 75%;">
                  <div class="d-flex justify-content-start">
                      <div class="d-flex align-items-center">
                          <span class="text-light" style="align-self: center; font-weight: 600; font-size: 22pt;">0</span>
                      </div>
                  </div>
              </div>
          </div>
      </div>&nbsp;&nbsp;
      <div class="card status-bot" style="width: 18rem;">
          <div class="card-body">
              <h5 class="card-title text-light">OPERAÇÕES</h5>
              <div class="card-title" style="display: flex; flex-direction: column; justify-content: end; height: 75%;">
                  <div class="d-flex justify-content-start">
                      <div class="d-flex align-items-center">
                          <span class="text-light" style="align-self: center; font-weight: 600; font-size: 22pt;">0</span>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>

  {% with messages = get_flashed_messages() %}
    {% for message in messages %}
      <div class="alert alert-warning">{{ message }}</div>
    {% endfor %}
  {% endwith %}

  <!-- listar historico de operacoes -->
  <hr class="my-3">
  <div class="table-responsive mb-2">
    <table class="table">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Operação</th>
            <th scope="col">Exchange</th>
            <th scope="col">Par</th>
            <th scope="col">Quantidade</th>
            <th scope="col">Preço</th>
            <th scope="col">Data(UTC-0)</th>
            <th scope="col">Status</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>
{% endblock %}

{% block scripts %}
<script>
    $('input[type="checkbox"]').on('click', function(){
        at = 0
        if($(this).is(':checked')){
            at = 1
        }
        $.ajax({method: 'POST', data: {isOn: at}, url: '/'})
    })
</script>
{% endblock %}